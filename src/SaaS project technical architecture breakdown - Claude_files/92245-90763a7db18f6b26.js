try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="7226ba5d-e385-477f-83bf-2908410e5c1b",e._sentryDebugIdIdentifier="sentry-dbid-7226ba5d-e385-477f-83bf-2908410e5c1b")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92245],{3324177:(e,a,s)=>{s.d(a,{u:()=>b});var t=s(0x22102fd88),n=s(0x14de19ae8),l=s(0x225bae024),i=s(0x1d4204d53),r=s(0x183548b63),d=s(0x1b370f49d),o=s(0x1b813d90),c=s(0x1e6127894),u=s(0xfc89b4a4),x=s(0x1ab0d1ca1),f=s(0x38e6572),m=s(0x18175ce17),g=s(0x6700eaaa);function b(e){let{type:a,onClose:s}=e,i=(0,n.mV)(),d=(0,x.A)(),{mutate:c,isPending:b}=(0,m.xc)({onSuccess:s}),[h,j]=(0,u.useState)(!1),p=(0,g.xI)(a);return(0,t.jsxs)(r.aF,{isOpen:!0,onClose:s,title:i?d.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:p}):d.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:p}),modalSize:"lg",children:[(0,t.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:p}}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(f.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:p}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:p}}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(f.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),a===o.v8.GITHUB&&(0,t.jsx)(v,{shouldDeleteOnDisable:h,setShouldDeleteOnDisable:j}),(0,t.jsxs)(r.vW,{children:[(0,t.jsx)(l.$,{onClick:s,variant:"secondary",children:(0,t.jsx)(f.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,t.jsx)(l.$,{loading:b,onClick:()=>{c({type:a,enabled:!1,should_delete_on_disable:h}),s()},variant:"danger",children:h?(0,t.jsx)(f.A,{defaultMessage:"Disconnect and delete cached files",id:"cpicqQfn34"}):(0,t.jsx)(f.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}function v(e){let{shouldDeleteOnDisable:a,setShouldDeleteOnDisable:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,t.jsx)(i.f,{checkState:a?"checked":"unchecked",onClick:e=>{let{didCheck:a}=e;return s(a)},label:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-text-200",children:(0,t.jsx)(f.A,{defaultMessage:"Permanently delete cached GitHub files",id:"QWSlg2jyOj"})}),(0,t.jsx)(d.m,{tooltipContent:(0,t.jsx)(f.A,{defaultMessage:"We will never delete any files from GitHub, only files cached by claude.ai",id:"V7mFrvJBWC"}),children:(0,t.jsx)(c.R,{className:"text-text-400"})})]})})}),a&&(0,t.jsx)("div",{className:"flex items-start align-top min-h-[5rem] gap-2 mb-10 ml-10 text-danger-000",children:(0,t.jsxs)("ul",{className:"text-sm list-disc",children:[(0,t.jsx)("li",{children:(0,t.jsx)(f.A,{defaultMessage:"File deletion will begin a few minutes after submission.",id:"09chittDG9"})}),(0,t.jsx)("li",{children:(0,t.jsx)(f.A,{defaultMessage:"All files cached from GitHub will be permanently deleted from claude.ai.",id:"F1B0dvW0IP"})}),(0,t.jsx)("li",{children:(0,t.jsx)(f.A,{defaultMessage:"An audit log will be written when deletion has completed.",id:"aNLDY0cpk9"})})]})})]})}},0x1408d7ab9:(e,a,s)=>{s.d(a,{r:()=>y,z:()=>C});var t=s(0x22102fd88),n=s(0x225bae024),l=s(0x12bb05cb6),i=s(0x1bd175d8c),r=s(0x1e711c04c),d=s(0x1a1f6dda6),o=s(0xfc89b4a4),c=s(0x1ab0d1ca1),u=s(0x21a557d5c),x=s(0x183548b63),f=s(0xa6a34c14),m=s(0x38e6572);function g(e){let{platform:a,onClose:s,onConfirm:l,loading:i}=e,r=(e=>{let a=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==a?void 0:a[1])||e})(a.issuer);return(0,t.jsxs)(x.aF,{isOpen:!0,onClose:s,modalSize:"md",title:(0,t.jsxs)("div",{className:"flex gap-2 items-center text-danger-000",children:[(0,t.jsx)(f.N,{size:20,weight:"bold"}),(0,t.jsx)(m.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})]}),children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("p",{className:"text-text-000",children:(0,t.jsx)(m.A,{defaultMessage:"Are you sure you want to disable the Canvas instance ‘{platformName}’?",id:"5Sw2NbmZOi",values:{platformName:a.name||r}})}),(0,t.jsxs)("div",{className:"p-3 bg-danger-100 border border-danger-200 rounded-lg",children:[(0,t.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,t.jsx)(m.A,{defaultMessage:"This action will:",id:"zvWv7FFtPu"})}),(0,t.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,t.jsx)("li",{children:(0,t.jsx)(m.A,{defaultMessage:"Temporarily disable Claude access from Canvas for this instance",id:"lIEPYlaaQV"})}),(0,t.jsx)("li",{children:(0,t.jsx)(m.A,{defaultMessage:"Prevent users from launching Claude from Canvas",id:"DeUCbJxieq"})}),(0,t.jsx)("li",{children:(0,t.jsx)(m.A,{defaultMessage:"Can be re-enabled at any time without reconfiguration",id:"wnmm8Q2qIC"})})]})]}),(0,t.jsx)("p",{className:"text-text-200 text-sm",children:(0,t.jsx)(m.A,{defaultMessage:"This Canvas instance will remain configured and can be re-enabled at any time.",id:"a5jT7TDFXC"})})]}),(0,t.jsxs)(x.vW,{children:[(0,t.jsx)(n.$,{variant:"danger",onClick:()=>l(a.id),loading:i,children:(0,t.jsx)(m.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})}),(0,t.jsx)(n.$,{variant:"secondary",onClick:s,children:(0,t.jsx)(m.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var b=s(0x235af461d),v=s(0x22ee7349c);function h(e){let{platform:a,onClose:s,onConfirm:l,loading:i}=e,r=(e=>{let a=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==a?void 0:a[1])||e})(a.issuer);return(0,t.jsxs)(x.aF,{isOpen:!0,onClose:s,modalSize:"md",title:(0,t.jsxs)("div",{className:"flex gap-2 items-center text-accent-secondary-000",children:[(0,t.jsx)(v.r,{size:20,weight:"bold"}),(0,t.jsx)(m.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})]}),children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("p",{className:"text-text-000",children:(0,t.jsx)(m.A,{defaultMessage:"Are you sure you want to enable the Canvas instance ‘{platformName}’?",id:"sltSpK2pM1",values:{platformName:a.name||r}})}),(0,t.jsxs)("div",{className:"p-3 bg-accent-main-100 border border-accent-main-200 rounded-lg",children:[(0,t.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,t.jsx)(m.A,{defaultMessage:"This will:",id:"+yrIUjrxTS"})}),(0,t.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,t.jsx)("li",{children:(0,t.jsx)(m.A,{defaultMessage:"Restore Claude access from Canvas for this instance",id:"6gypIwnFmn"})}),(0,t.jsx)("li",{children:(0,t.jsx)(m.A,{defaultMessage:"Allow users to launch Claude from Canvas again",id:"/aTphs8E3Z"})}),(0,t.jsx)("li",{children:(0,t.jsx)(m.A,{defaultMessage:"Reactivate the LTI integration for all users in your organization",id:"jX7w8Etxw8"})})]})]})]}),(0,t.jsxs)(x.vW,{children:[(0,t.jsx)(n.$,{variant:"primary",onClick:()=>l(a.id),loading:i,children:(0,t.jsx)(m.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})}),(0,t.jsx)(n.$,{variant:"secondary",onClick:s,children:(0,t.jsx)(m.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var j=s(3324177),p=s(0x132295873),A=s(0x18ad9f7f2),y=function(e){return e[e.DISCONNECT=0]="DISCONNECT",e[e.REMOVE=1]="REMOVE",e[e.DISABLE=2]="DISABLE",e[e.EDIT_CANVAS=3]="EDIT_CANVAS",e[e.DISABLE_CANVAS=4]="DISABLE_CANVAS",e[e.ENABLE_CANVAS=5]="ENABLE_CANVAS",e}({});function C(e){let{type:a,server:s,actions:x}=e,f=(0,c.A)(),m=(0,i.V)(),[v,y]=(0,o.useState)(void 0),C=()=>y(void 0),{data:M}=(0,u.sr)(),S=(0,u.oo)({onSuccess:C}),I=(0,u.Ks)({onSuccess:C}),N=(0,u.LK)({onSuccess:C}),w=null==M?void 0:M[0];if(0===x.length)return;let D={0:f.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),2:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),1:f.formatMessage({defaultMessage:"Remove",id:"G/yZLul6P1"}),3:f.formatMessage({defaultMessage:"Edit",id:"wEQDC6Wv3/"}),4:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),5:f.formatMessage({defaultMessage:"Enable",id:"TqSTI0/TZI"})},E=null;switch(v){case 0:E=(0,t.jsx)(p.m,{type:a,server:s,onClose:C});break;case 2:E=(0,t.jsx)(j.u,{type:a,onClose:C});break;case 1:E=(0,t.jsx)(A.f,{server:s,onClose:C});break;case 3:E=w?(0,t.jsx)(b.S,{platform:w,onClose:C,onSubmit:(e,a,s,t)=>{S.mutate({platformId:e,canvas_url:a,client_id:s,name:"".concat(a," Canvas"),deployment_ids:[t]})},loading:S.isPending}):null;break;case 4:E=w?(0,t.jsx)(g,{platform:w,onClose:C,onConfirm:e=>{N.mutate({platformId:e,is_active:!1})},loading:N.isPending}):null;break;case 5:E=w?(0,t.jsx)(h,{platform:w,onClose:C,onConfirm:e=>{I.mutate({platformId:e,is_active:!0})},loading:I.isPending}):null}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.ms,{align:"end",trigger:(0,t.jsx)(n.$,{size:"icon",variant:"secondary","aria-label":s?f.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:s.name}):f.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,t.jsx)(r.H,{size:16,weight:"bold"})}),children:x.map(e=>(0,t.jsx)(l.tJ,{className:(0,d.A)("min-w-[175px]",[0,2,1,4].includes(e)&&"text-danger-000"),onClick:()=>{if(1===e&&(null==s?void 0:s.type)==="local"&&m){var a,t;null==(t=window.claudeAppBindings)||null==(a=t.openMcpSettings)||a.call(t,s.name)}else y(e)},children:D[e]},e))}),E]})}},0x18ad9f7f2:(e,a,s)=>{s.d(a,{f:()=>u});var t=s(0x22102fd88),n=s(0x14de19ae8),l=s(0x139b5e710),i=s(0x225bae024),r=s(0x183548b63),d=s(0x1ab0d1ca1),o=s(0x38e6572),c=s(0x1d302b010);function u(e){var a;let{onClose:s,onRemove:u,server:x}=e,f=(0,d.A)(),m=(0,n.mV)(),{activeOrganization:g}=(0,n.YL)(),{addError:b}=(0,l.Y)(),v=x.name,{mutate:h,isPending:j}=(0,c.ll)((null==g?void 0:g.uuid)||"",null!=(a=x.uuid)?a:"",{onSuccess:s,onError:e=>{b(f.formatMessage({defaultMessage:"Failed to disconnect server",id:"zX14mjXCQK"}),{error:e,messageForLogging:"Failed to disconnect server"})}});return(0,t.jsxs)(r.aF,{isOpen:!0,onClose:s,title:m?f.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:v}):f.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:v}),modalSize:"lg",children:[(0,t.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:v}}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(o.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:v}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:v}}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(o.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),(0,t.jsxs)(r.vW,{layout:"right",children:[(0,t.jsx)(i.$,{onClick:s,variant:"secondary",children:(0,t.jsx)(o.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,t.jsx)(i.$,{loading:j,onClick:()=>{h(),null==u||u()},variant:"danger",children:(0,t.jsx)(o.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}},0x1d4204d53:(e,a,s)=>{s.d(a,{f:()=>t.f});var t=s(0x1a80afddd)},0x1de9ef475:(e,a,s)=>{s.d(a,{Ou:()=>b,Xd:()=>v});var t=s(0x19273021e),n=s(0xac309a83),l=s(0x1b813d90),i=s(0x10a2d47e3),r=s(0x78b33fbd),d=s(0x21a557d5c),o=s(0x1334f6ecc),c=s(0xecd80d84),u=s(0xe0c26d90),x=s(0x1065e58a2),f=s(0x18175ce17),m=s(0x1408d7ab9);function g(){let e=(0,n.fS)("kingfisher_enabled"),a=(0,o.LP)(),{isDriveAuthenticated:s}=(0,o.cI)(),t=(0,n.fS)("pumpernickel_enabled"),i=(0,f.vm)(),d=(0,f.kO)(),c=(0,f.Ys)(l.v8.GMAIL),{isAuthenticated:u}=(0,f.ob)(l.v8.GMAIL),x=(0,f.Ys)(l.v8.GCAL),{isAuthenticated:m}=(0,f.ob)(l.v8.GCAL),g=(0,f.Ys)(l.v8.SLACK),{isAuthenticated:b}=(0,f.ob)(l.v8.SLACK),v=(0,r.useLayer)("trials_freemium").get("free_integrations",!1);return{[l.v8.GDRIVE]:{type:l.v8.GDRIVE,available:(e||v)&&!d,enabledForOrg:a,connected:s},[l.v8.GMAIL]:{type:l.v8.GMAIL,available:(t||v)&&!i,enabledForOrg:c,connected:u},[l.v8.GCAL]:{type:l.v8.GCAL,available:(t||v)&&!i,enabledForOrg:x,connected:m},[l.v8.SLACK]:{type:l.v8.SLACK,available:g,enabledForOrg:g,connected:b}}}let b=g;function v(){let e=Object.values(g()),a=(0,n.fS)("github_disabled"),s=(0,u.Cq)(),{isGithubAuthenticated:r}=(0,u.nB)({fetchImmediately:!0}),o=(0,i.wc)()[i.j$]||"invalid",{data:b}=(0,t.Jh)(o),v=b&&b.length>0,h=(0,n.fS)("spider_enabled_2"),j=(0,x.AI)(),{isOutlineAuthenticated:p}=(0,x.I5)(),A=(0,n.fS)("cinnabon_enabled"),y=(0,f.Ys)(l.v8.SALESFORCE),{isAuthenticated:C}=(0,f.ob)(l.v8.SALESFORCE),M=(0,f.Ys)(l.v8.ASANA),{isAuthenticated:S}=(0,f.ob)(l.v8.ASANA),I=(0,n.fS)("claude_ai_ember"),N=(0,n.fS)("claude_ai_velvet_accordion"),{data:w}=(0,d.sr)(),D=((null==w?void 0:w.filter(e=>e.is_active))||[]).length>0,E=(0,c.w5)(),{isAuthenticated:L}=(0,c.eF)();return[...e,...v?[{type:l.v8.CUTTLEFISH,available:!0,enabledForOrg:!0,connected:!0}]:[],{type:l.v8.GITHUB,available:!a,enabledForOrg:s,connected:r},{type:l.v8.OUTLINE,available:h&&!1,enabledForOrg:j,connected:p},{type:l.v8.SALESFORCE,available:A,enabledForOrg:y,connected:C},{type:l.v8.ASANA,available:A,enabledForOrg:M,connected:S},{type:l.v8.FIDDLEHEAD,available:!1,enabledForOrg:E,connected:L},{type:l.v8.CANVAS,available:I&&N&&!0,enabledForOrg:D,connected:D,connectedActions:D?[m.r.EDIT_CANVAS,m.r.DISABLE_CANVAS]:[],disconnectedActions:[]}].filter(e=>e.available)}},0x21a557d5c:(e,a,s)=>{s.d(a,{AW:()=>u,Ks:()=>f,LK:()=>m,oo:()=>x,sr:()=>c});var t=s(0x12c9046cd),n=s(0x14de19ae8),l=s(0xc1dd9efc),i=s(0xac309a83),r=s(0x17e725145);let d="lti_platforms";function o(){return(0,i.fS)("claude_ai_velvet_accordion")}let c=()=>{let{activeOrganization:e,account:a}=(0,n.YL)(),s=null==e?void 0:e.uuid,i=(0,l.yI)(a,e,l.Nt.OrganizationManage),r=o();return(0,t.Sk)("/api/organizations/".concat(s,"/lti/platforms"),{queryKey:[d,{orgUuid:s}],enabled:!!e&&!!s&&i&&r})},u=e=>{let a=(0,r.useQueryClient)(),{activeOrganization:s}=(0,n.YL)(),l=null==s?void 0:s.uuid,i=o();return(0,t.L2)("/api/organizations/".concat(l,"/lti/platforms"),"PUT",{enabled:i,onSuccess:e=>{a.setQueryData([d,{orgUuid:l}],a=>a?[...a,e]:[e]),a.invalidateQueries({queryKey:[d]})},onSettled:(e,s)=>{e&&!s&&(a.setQueryData([d,{orgUuid:l}],a=>a?[...a,e]:[e]),a.invalidateQueries({queryKey:[d]}))},...e})},x=e=>{let a=(0,r.useQueryClient)(),{activeOrganization:s}=(0,n.YL)(),l=null==s?void 0:s.uuid,i=o();return(0,t.L2)(e=>{let{platformId:a}=e;return"/api/organizations/".concat(l,"/lti/platforms/").concat(a)},"POST",{enabled:i,onSuccess:(e,s)=>{a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let t=a.findIndex(e=>e.id===s.platformId);if(-1!==t){let s=[...a];return s[t]=e,s}return a}),a.invalidateQueries({queryKey:[d]})},onSettled:(e,s,t)=>{e&&!s&&(a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let s=a.findIndex(e=>e.id===t.platformId);if(-1!==s){let t=[...a];return t[s]=e,t}return a}),a.invalidateQueries({queryKey:[d]}))},...e})},f=e=>{let a=(0,r.useQueryClient)(),{activeOrganization:s}=(0,n.YL)(),l=null==s?void 0:s.uuid,i=o();return(0,t.L2)(e=>{let{platformId:a}=e;return"/api/organizations/".concat(l,"/lti/platforms/").concat(a)},"POST",{enabled:i,onMutate:e=>e,onSuccess:(e,s)=>{a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let t=a.findIndex(e=>e.id===s.platformId);if(-1!==t){let s=[...a];return s[t]=e,s}return a}),a.invalidateQueries({queryKey:[d]})},onError:()=>{},onSettled:(e,s,t)=>{e&&!s&&(a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let s=a.findIndex(e=>e.id===t.platformId);if(-1!==s){let t=[...a];return t[s]=e,t}return a}),a.invalidateQueries({queryKey:[d]}))},...e})},m=e=>{let a=(0,r.useQueryClient)(),{activeOrganization:s}=(0,n.YL)(),l=null==s?void 0:s.uuid,i=o();return(0,t.L2)(e=>{let{platformId:a}=e;return"/api/organizations/".concat(l,"/lti/platforms/").concat(a)},"POST",{enabled:i,onMutate:e=>e,onSuccess:(e,s)=>{a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let t=a.findIndex(e=>e.id===s.platformId);if(-1!==t){let s=[...a];return s[t]=e,s}return a}),a.invalidateQueries({queryKey:[d]})},onError:()=>{},onSettled:(e,s,t)=>{e&&!s&&(a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let s=a.findIndex(e=>e.id===t.platformId);if(-1!==s){let t=[...a];return t[s]=e,t}return a}),a.invalidateQueries({queryKey:[d]}))},...e})}},0x235af461d:(e,a,s)=>{s.d(a,{S:()=>o});var t=s(0x22102fd88),n=s(0x225bae024),l=s(0x183548b63),i=s(0xfc89b4a4),r=s(0x38e6572),d=s(0x23a81847f);function o(e){var a;let{platform:s,onClose:o,onSubmit:c,loading:u}=e,[x,f]=(0,i.useState)(s.issuer),[m,g]=(0,i.useState)(s.client_id),[b,v]=(0,i.useState)((null==(a=s.deployment_ids)?void 0:a[0])||""),h=!x.trim()||!m.trim()||!b.trim();return(0,t.jsx)(l.aF,{isOpen:!0,onClose:o,modalSize:"xl",title:(0,t.jsx)("div",{className:"flex gap-2 items-center",children:(0,t.jsx)(r.A,{defaultMessage:"Edit Canvas Instance",id:"aBsNZWVKN+"})}),subtitle:(0,t.jsx)(r.A,{defaultMessage:"Update your Canvas LMS instance configuration",id:"FqSEGC5V7F"}),children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h||c(s.id,x.trim().replace(/\/$/,""),m.trim(),b.trim())},className:"flex flex-col",children:[(0,t.jsx)(d.E,{domain:x,setDomain:f,clientId:m,setClientId:g,deploymentId:b,setDeploymentId:v}),(0,t.jsxs)(l.vW,{children:[(0,t.jsx)(n.$,{type:"submit",loading:u,disabled:h,children:(0,t.jsx)(r.A,{defaultMessage:"Save Changes",id:"3VI9mt1zm0"})}),(0,t.jsx)(n.$,{variant:"secondary",onClick:o,children:(0,t.jsx)(r.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}},0x23a81847f:(e,a,s)=>{s.d(a,{E:()=>r});var t=s(0x22102fd88),n=s(0x246846ae8),l=s(0x1ab0d1ca1),i=s(0x38e6572);function r(e){let{domain:a,setDomain:s,clientId:r,setClientId:d,deploymentId:o,setDeploymentId:c}=e,u=(0,l.A)();return(0,t.jsxs)("div",{className:"flex flex-col gap-3 mt-2",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(n.ks,{required:!0,label:u.formatMessage({defaultMessage:"Canvas Domain",id:"Aok65+sKzA"}),placeholder:u.formatMessage({defaultMessage:"https://school.instructure.com or https://canvas.myschool.edu",id:"VAjV+8SnM6"}),value:a,onValueChange:e=>s(e||""),onBlur:()=>s(a.trim())}),(0,t.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,t.jsx)(i.A,{defaultMessage:"Enter your Canvas domain (e.g., ‘https://school.instructure.com’ for hosted Canvas or ‘https://canvas.myschool.edu’ for self-hosted)",id:"uFbHowgMW9"})})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(n.ks,{required:!0,label:u.formatMessage({defaultMessage:"Client ID",id:"U5+MBCY8VU"}),placeholder:u.formatMessage({defaultMessage:"00000000000000",id:"BLrL/pjQgI"}),value:r,onValueChange:e=>d(e||""),onBlur:()=>d(r.trim())}),(0,t.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,t.jsx)(i.A,{defaultMessage:"The Client ID from your Canvas LTI app registration (found in Canvas Admin > Developer Keys)",id:"iV5X/WX6MA"})})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(n.ks,{required:!0,label:u.formatMessage({defaultMessage:"Deployment ID",id:"/h+RD9WlzS"}),placeholder:u.formatMessage({defaultMessage:"1",id:"Tf9Oo0DwqC"}),value:o,onValueChange:e=>c(e||""),onBlur:()=>c(o.trim())}),(0,t.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,t.jsx)(i.A,{defaultMessage:"The Deployment ID for your Canvas LTI integration",id:"iLMNAW31CI"})})]})]})}}}]);