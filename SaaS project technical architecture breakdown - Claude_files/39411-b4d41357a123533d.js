try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e2d9fc35-1cee-4a88-abd9-7e9776cd54ab",e._sentryDebugIdIdentifier="sentry-dbid-e2d9fc35-1cee-4a88-abd9-7e9776cd54ab")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39411],{0x1381f2bb:(e,t,o)=>{o.d(t,{O:()=>l});var r=o(0x22102fd88),n=o(0x1a1f6dda6);let l=e=>{let{size:t=20,borderRadius:o=.27*t,className:l,children:a}=e;return(0,r.jsx)("div",{style:{width:t,height:t,borderRadius:o},className:(0,n.A)("shrink-0 bg-bg-000 border-border-300 border-0.5 shadow-sm flex items-center justify-center",l),children:a})}},0x4d9fc74e:(e,t,o)=>{o.d(t,{Q:()=>i});var r=o(0xf32c56dd),n=o(0x14de19ae8),l=o(0x1bd175d8c),a=o(0x4d348f95),s=o(0x21fe74567);let i=function(){let{pathname:e,queryString:t="",source:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,n.YL)(),c=(0,a.usePathname)(),u=(0,a.useSearchParams)(),d=(0,l.V)(),{track:m}=(0,r.st)(),f="".concat((0,s.d)({pathname:e||c,searchParams:u,queryString:t,shouldOpenInClaudeApp:d}));return e=>{let{uuid:t,url:r}=e;m({event_key:"claudeai.mcp.auth.init",uuid:t,url:r,source:o}),window.location.href="/api/organizations/".concat(null==i?void 0:i.uuid,"/mcp/start-auth/").concat(t,"?redirect_url=").concat(encodeURIComponent(f),"&open_in_browser=1")}}},0x6f6d4bd7:(e,t,o)=>{o.d(t,{U2:()=>d,UT:()=>u,_c:()=>f,qO:()=>c});var r=o(0x18e5c6e75),n=o(0x253a5c787),l=o(0x15b8dbfeb),a=o.n(l),s=o(0x156c4e43b);let i=e=>e.replace(/_/g," ").replace(/^\w/,e=>e.toUpperCase());async function c(e,t,o){try{return(await t.listTools({},{timeout:5e3})).tools.map(e=>o?(0,r.M)(e):e).map(t=>{var o,r,n;return{...t,displayName:i(t.title||(null==(o=t.annotations)?void 0:o.title)||t.name),enabledKey:(r=e,n=t.name,"".concat(r,":").concat(n)),alwaysApprovedKey:""}}).map(e=>({...e,alwaysApprovedKey:function(e){let t=e.enabledKey,o=e.description||"",r=function(e){var t;let o=Object.entries((null==(t=e.inputSchema)?void 0:t.properties)||{}),r=[];for(let[e,t]of o){let{data:o}=m.safeParse(t),n=(null==o?void 0:o.description)||"";r.push([e,n])}return r.sort((e,t)=>e[0].localeCompare(t[0])).flat().join(",")}(e),n=a().createHash("md5").update("".concat(o,":").concat(r)).digest("hex");return"".concat(t,"-").concat(n)}(e)}))}catch(t){return(0,n.Cp)(t,{tags:{action:"listTools",serverUuid:e}}),[]}}async function u(e,t){try{var o;if(!(null==(o=t.getServerCapabilities())?void 0:o.prompts))return[];return(await t.listPrompts({},{timeout:5e3})).prompts.map(e=>({...e,displayName:i(e.title||e.name)}))}catch(t){return(0,n.Cp)(t,{tags:{action:"listPrompts",serverUuid:e}}),[]}}async function d(e,t){try{var o;if(!(null==(o=t.getServerCapabilities())?void 0:o.resources))return[];return(await t.listResources({},{timeout:5e3})).resources.map(e=>({...e,displayName:i(e.title||e.name)}))}catch(t){return(0,n.Cp)(t,{tags:{action:"listResources",serverUuid:e}}),[]}}let m=s.Ik({description:s.Yj().optional(),type:s.Yj().optional(),title:s.Yj().optional()}).optional();function f(e,t){if(e.url){var o;return e.url.replace(/\/$/,"")===(null!=(o=null==t?void 0:t.replace(/\/$/,""))?o:"")}if(e.urlRegex){let o=new RegExp(e.urlRegex);return!!t&&o.test(t)}return!1}},0x8475f78a:(e,t,o)=>{o.d(t,{Ds:()=>u,Ic:()=>l,RK:()=>a,U6:()=>c});var r=o(0xac309a83),n=o(0x156c4e43b);let l=e=>"".concat(e,"-wrapped"),a=n.Ik({isConnected:n.zM(),hasPromptsOrResources:n.zM().optional(),expiration:n.ai()}),s="mcp-remote-connectors-state";function i(e,t){var o,n,l;if(!(null==(o=(0,r.Je)())?void 0:o.checkGate("claudeai_mcp_local_cache")))return;let i=Date.now();try{let o=localStorage.getItem(s),r=o?JSON.parse(o):{},c="object"==typeof r&&null!==r?{...r}:{},u=a.safeParse(c[e]);c[e]={isConnected:null!=(n=t.isConnected)?n:!!u.success&&u.data.isConnected,hasPromptsOrResources:null!=(l=t.hasPromptsOrResources)?l:u.success?u.data.hasPromptsOrResources:void 0,expiration:i+864e5},localStorage.setItem(s,JSON.stringify(c))}catch(e){}}function c(){var e;if(!(null==(e=(0,r.Je)())?void 0:e.checkGate("claudeai_mcp_local_cache")))return{};try{let e=localStorage.getItem(s);if(!e)return{};let t=JSON.parse(e),o={},r=Date.now();if("object"==typeof t&&null!==t)for(let[e,n]of Object.entries(t)){let t=a.safeParse(n);t.success&&t.data.expiration>r&&(o[e]=t.data)}return o}catch(e){return{}}}let u=e=>({remoteServers:{},remoteConnectionStates:{},remoteClients:{},remoteTools:{},remotePrompts:{},remoteResources:{},remoteDirectories:{},remoteIsLoading:!1,addRemoteServer:t=>e(e=>({remoteServers:{...e.remoteServers,[t.uuid]:t},remoteConnectionStates:{...e.remoteConnectionStates,[t.uuid]:{isConnected:!1,isConnecting:!0,usedAuthentication:!1}}})),setRemoteServerConnected:(t,o)=>e(e=>(i(t,{isConnected:!0}),{...e,remoteConnectionStates:{...e.remoteConnectionStates,[t]:{isConnected:!0,isConnecting:!1,usedAuthentication:o}}})),setRemoteClient:(t,o)=>e(e=>({remoteClients:{...e.remoteClients,[t]:o}})),disconnectRemoteServer:t=>e(e=>{let{[t]:o,[l(t)]:r,...n}=e.remoteClients;i(t,{isConnected:!1});let{[t]:a,...s}=e.remoteTools,{[t]:c,...u}=e.remotePrompts,{[t]:d,...m}=e.remoteResources;return{...e,remoteConnectionStates:{...e.remoteConnectionStates,[t]:{isConnected:!1,isConnecting:!1,usedAuthentication:!1}},remoteClients:n,remoteTools:s,remotePrompts:u,remoteResources:m}}),removeRemoteServer:t=>e(e=>{let{[t]:o,...r}=e.remoteServers,{[t]:n,...a}=e.remoteConnectionStates,{[t]:s,[l(t)]:i,...c}=e.remoteClients,{[t]:u,...d}=e.remoteTools,{[t]:m,...f}=e.remotePrompts,{[t]:p,...h}=e.remoteResources,{[t]:v,...g}=e.remoteDirectories;return{...e,remoteServers:r,remoteConnectionStates:a,remoteClients:c,remoteTools:d,remotePrompts:f,remoteResources:h,remoteDirectories:g}}),setRemoteTools:(t,o)=>e(e=>({remoteTools:{...e.remoteTools,[t]:o}})),setRemotePrompts:(t,o)=>e(e=>{var r;let n=null!=(r=e.remoteResources[t])?r:[];return i(t,{hasPromptsOrResources:o.length>0||n.length>0}),{remotePrompts:{...e.remotePrompts,[t]:o}}}),setRemoteResources:(t,o)=>e(e=>{var r;let n=(null!=(r=e.remotePrompts[t])?r:[]).length>0||o.length>0;return i(t,{hasPromptsOrResources:n}),{remoteResources:{...e.remoteResources,[t]:o}}}),setRemoteDirectory:(t,o)=>e(e=>({remoteDirectories:o?{...e.remoteDirectories,[t]:o}:e.remoteDirectories})),setRemoteIsLoading:t=>e({remoteIsLoading:t})})},0xc288ff4d:(e,t,o)=>{o.d(t,{a:()=>i,t:()=>c});var r=o(0x22102fd88),n=o(0xb3796c53),l=o(0x1a1f6dda6),a=o(0x101dba052),s=o(0xfc89b4a4);function i(e){let{state:t="static",className:i,isInteractive:u=!0}=e,d=(0,s.useRef)(null),m=(0,s.useRef)(t),f=(0,a.I)(),[p,h]=(0,s.useState)(),[v,g]=(0,s.useState)(t),[x,S]=(0,s.useReducer)(e=>e+1,0);(0,s.useEffect)(()=>{o.e(64e3).then(o.bind(o,0xb0a4820)).then(e=>{h(e.animations)})},[]),(0,s.useEffect)(()=>g(t),[t]),(0,s.useEffect)(()=>{let e,t,o=d.current&&"function"==typeof d.current.animate;if(!f&&"static"!==v&&o&&p){var r;let{frameCount:o,speed:n}=p[v],l=Array.from({length:o},(e,t)=>({transform:"translateY(-".concat(100/o*t,"%)")}));e=null==(r=d.current)?void 0:r.animate(l,{duration:n*l.length,iterations:"tickle"===v?1:1/0,easing:"steps(".concat(l.length,", jump-none)")}),"tickle"===v&&(t=()=>g(m.current),null==e||e.addEventListener("finish",t))}return"tickle"!==v&&(m.current=v),()=>{t&&e&&e.removeEventListener("finish",t),null==e||e.cancel()}},[p,v,f]);let y=()=>{u&&"writing"!==v&&"thinking"!==v&&"tickle"!==v&&(g("tickle"),S())},b="Hi, I’m Claude. How can I help you today?";x<32&&x>24?b="Ugh, well you can’t do that forever":x<=24&&x>18?b="Alright, alright, you have my attention!":x<=18&&x>12?b="Are you still doing that?":x<=12&&x>5&&(b="Yes, yes. What can I do for you?");let C=!u||"writing"===v||"thinking"===v;if("static"===v||f||!p)return(0,r.jsx)("div",{"aria-hidden":"true",children:(0,r.jsx)(n.Tooltip,{className:(0,l.A)("font-claude-response max-w-none italic",C&&"opacity-0"),tooltipContent:b,side:"right",children:(0,r.jsx)("div",{className:(0,l.A)(i,"w-8 text-accent-brand inline-block select-none"),onMouseDown:y,children:(0,r.jsx)(c,{className:"w-full fill-current"})})})});let{svg:R,width:w,height:T}=p[v];return(0,r.jsx)("div",{"aria-hidden":"true",children:(0,r.jsx)(n.Tooltip,{className:(0,l.A)("font-claude-response max-w-none italic",C&&"opacity-0"),tooltipContent:b,side:"right",children:(0,r.jsx)("div",{className:(0,l.A)(i,"w-8 text-accent-brand inline-block overflow-hidden select-none"),style:{aspectRatio:w/T},onMouseDown:y,children:(0,r.jsx)("div",{ref:d,className:"[&>svg]:block [&>svg]:w-full [&>svg]:fill-current",dangerouslySetInnerHTML:{__html:R}})})})})}function c(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",...e,children:(0,r.jsx)("path",{d:"m19.6 66.5 19.7-11 .3-1-.3-.5h-1l-3.3-.2-11.2-.3L14 53l-9.5-.5-2.4-.5L0 49l.2-1.5 2-1.3 2.9.2 6.3.5 9.5.6 6.9.4L38 49.1h1.6l.2-.7-.5-.4-.4-.4L29 41l-10.6-7-5.6-4.1-3-2-1.5-2-.6-4.2 2.7-3 3.7.3.9.2 3.7 2.9 8 6.1L37 36l1.5 1.2.6-.4.1-.3-.7-1.1L33 25l-6-10.4-2.7-4.3-.7-2.6c-.3-1-.4-2-.4-3l3-4.2L28 0l4.2.6L33.8 2l2.6 6 4.1 9.3L47 29.9l2 3.8 1 3.4.3 1h.7v-.5l.5-7.2 1-8.7 1-11.2.3-3.2 1.6-3.8 3-2L61 2.6l2 2.9-.3 1.8-1.1 7.7L59 27.1l-1.5 8.2h.9l1-1.1 4.1-5.4 6.9-8.6 3-3.5L77 13l2.3-1.8h4.3l3.1 4.7-1.4 4.9-4.4 5.6-3.7 4.7-5.3 7.1-3.2 5.7.3.4h.7l12-2.6 6.4-1.1 7.6-1.3 3.5 1.6.4 1.6-1.4 3.4-8.2 2-9.6 2-14.3 3.3-.2.1.2.3 6.4.6 2.8.2h6.8l12.6 1 3.3 2 1.9 2.7-.3 2-5.1 2.6-6.8-1.6-16-3.8-5.4-1.3h-.8v.4l4.6 4.5 8.3 7.5L89 80.1l.5 2.4-1.3 2-1.4-.2-9.2-7-3.6-3-8-6.8h-.5v.7l1.8 2.7 9.8 14.7.5 4.5-.7 1.4-2.6 1-2.7-.6-5.8-8-6-9-4.7-8.2-.5.4-2.9 30.2-1.3 1.5-3 1.2-2.5-2-1.4-3 1.4-6.2 1.6-8 1.3-6.4 1.2-7.9.7-2.6v-.2H49L43 72l-9 12.3-7.2 7.6-1.7.7-3-1.5.3-2.8L24 86l10-12.8 6-7.9 4-4.6-.1-.5h-.3L17.2 77.4l-4.7.6-2-2 .2-3 1-1 8-5.5Z"})})}},0xe824fb1c:(e,t,o)=>{o.d(t,{rD:()=>b,nd:()=>v,s$:()=>g,eZ:()=>f,Ug:()=>R,pK:()=>F,KU:()=>B,_b:()=>q,OT:()=>S,dY:()=>O,Jy:()=>y,et:()=>p,xk:()=>h,H:()=>D,eg:()=>w,jh:()=>I,yt:()=>M,kU:()=>A,BG:()=>U,zC:()=>z,fR:()=>E,kc:()=>T,I3:()=>k,pZ:()=>_,k$:()=>L,aF:()=>P,n3:()=>C,MR:()=>j,HG:()=>x,qT:()=>J,Ak:()=>Y,Uz:()=>W,Q1:()=>H});var r=o(0x134b9be24),n=o(0xfc89b4a4),l=o(0x394ef833),a=o(0x16784b660),s=o(0x107838ca5),i=o(0x1c9feff0c),c=o(0x8475f78a),u=o(0x6f6d4bd7);let d={"Claude for Chrome":"internal:claude-spark"};function m(e,t){return(null==t?void 0:t.manifest.icon)?(0,i.C)(t.manifest.icon,t.path):d[e]}let f=(0,l.v)()((0,a.eh)(function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return{...(e=>({localClients:{},localTools:{},localPrompts:{},localResources:{},dxts:{},localIsLoading:!1,setLocalClient:(t,o,r)=>e(e=>({localClients:{...e.localClients,[t]:{uuid:null!=r?r:t,client:o}}})),removeLocalServer:t=>e(e=>{let{[t]:o,...r}=e.localClients,{[t]:n,...l}=e.localTools,{[t]:a,...s}=e.localPrompts,{[t]:i,...c}=e.localResources,{[t]:u,...d}=e.dxts;return{localClients:r,localTools:l,localPrompts:s,localResources:c,dxts:d}}),setLocalTools:(t,o)=>e(e=>({localTools:{...e.localTools,[t]:o}})),setLocalPrompts:(t,o)=>e(e=>({localPrompts:{...e.localPrompts,[t]:o}})),setLocalResources:(t,o)=>e(e=>({localResources:{...e.localResources,[t]:o}})),setDxt:(t,o)=>e(e=>({dxts:{...e.dxts,[t]:o}})),setLocalIsLoading:t=>e({localIsLoading:t})}))(...t),...(0,c.Ds)(...t)}})),p=e=>f.getState().remoteServers[e],h=async e=>f.getState().remoteClients[(0,c.Ic)(e)],v=e=>void 0===f.getState().remoteServers[e],g=e=>void 0===f.getState().remoteConnectionStates[e],x=(e,t)=>{let o=f.getState();return!t||(0,c.Ic)(e)in o.remoteClients},S=e=>{let t=f.getState();for(let[c,u]of Object.entries(t.remoteServers)){let d=t.remoteDirectories[c];if((null==d?void 0:d.uuid)===e){var o,r,n,l,a,s,i;let e=t.remoteConnectionStates[c];return{name:u.name,uuid:u.uuid,type:"remote",url:u.url,custom_oauth_client_id:u.custom_oauth_client_id,custom_oauth_client_secret:u.custom_oauth_client_secret,iconType:"favicon",iconSrc:null!=(o=null==d?void 0:d.iconUrl)?o:u.url,isConnected:null!=(r=null==e?void 0:e.isConnected)&&r,isConnecting:null!=(n=null==e?void 0:e.isConnecting)&&n,usedAuthentication:null!=(l=null==e?void 0:e.usedAuthentication)&&l,tools:null!=(a=t.remoteTools[c])?a:[],prompts:null!=(s=t.remotePrompts[c])?s:[],resources:null!=(i=t.remoteResources[c])?i:[],directoryMetadata:d}}}};function y(e){let t=f.getState(),o=[];for(let[n,l]of Object.entries(t.remoteServers)){var r;if(!l)continue;let a=t.remoteConnectionStates[n];if((null==a?void 0:a.isConnected)!==!0)continue;let s=null!=(r=t.remoteTools[n])?r:[];if(0===s.length)continue;let i=s.filter(t=>(null==e?void 0:e[t.enabledKey])!==!1);0!==i.length&&o.push({uuid:n,name:l.name,tools:i.map(e=>{var t;return{name:e.name,description:e.description,inputSchema:null!=(t=e.inputSchema)?t:{}}})})}return o}let b=e=>f.getState().addRemoteServer(e),C=(e,t)=>f.getState().setRemoteServerConnected(e,t),R=e=>f.getState().disconnectRemoteServer(e),w=e=>f.getState().removeRemoteServer(e),T=(e,t)=>f.getState().setRemoteClient(e,t),_=e=>f.getState().setRemoteIsLoading(e),j=async(e,t,o)=>{let r=await (0,u.qO)(e,t,o);return f.getState().setRemoteTools(e,r),r},L=async(e,t)=>{let o=await (0,u.UT)(e,t);return f.getState().setRemotePrompts(e,o),o},P=async(e,t)=>{let o=await (0,u.U2)(e,t);return f.getState().setRemoteResources(e,o),o},k=(e,t,o)=>{f.getState().setRemoteDirectory(e,o.find(e=>(0,u._c)(e,t)))},O=e=>{for(let[,{uuid:t,client:o}]of Object.entries(f.getState().localClients))if(t===e)return o},I=(e,t,o)=>f.getState().setLocalClient(e,t,o),A=e=>f.getState().setLocalIsLoading(e),D=e=>f.getState().removeLocalServer(e),M=(e,t)=>f.getState().setDxt(e,t),N=e=>"local:".concat(e),E=async(e,t,o)=>{let r=await (0,u.qO)(N(e),t,o);return f.getState().setLocalTools(e,r),r},U=async(e,t)=>{let o=await (0,u.UT)(N(e),t);return f.getState().setLocalPrompts(e,o),o},z=async(e,t)=>{let o=await (0,u.U2)(N(e),t);return f.getState().setLocalResources(e,o),o};function K(e,t){for(let[i,c]of Object.entries(t)){var o,r,n,l,a,s;if(void 0!==c){if("hasTools"===i){if(((null==(o=e.tools)?void 0:o.length)||0)>0!==c)return!1}else if("hasPrompts"===i){if(((null==(r=e.prompts)?void 0:r.length)||0)>0!==c)return!1}else if("hasResources"===i){if(((null==(n=e.resources)?void 0:n.length)||0)>0!==c)return!1}else if("hasPromptsOrResources"===i){let t=((null==(l=e.prompts)?void 0:l.length)||0)>0,o=((null==(a=e.resources)?void 0:a.length)||0)>0;if((t||o)!==c)return!1}else if("directoryUuid"===i){if((null==(s=e.directoryMetadata)?void 0:s.uuid)!==c)return!1}else if(e[i]!==c)return!1}}return!0}let W=e=>{let t=f((0,s.k)(e=>({remoteServers:e.remoteServers,remoteConnectionStates:e.remoteConnectionStates,remoteTools:e.remoteTools,remotePrompts:e.remotePrompts,remoteResources:e.remoteResources,remoteDirectories:e.remoteDirectories,localClients:e.localClients,localTools:e.localTools,localPrompts:e.localPrompts,localResources:e.localResources,dxts:e.dxts})));return(0,n.useMemo)(()=>{var o,r,n,l,a,s,i;let c=[];for(let[a,s]of Object.entries(t.remoteServers)){if(!s)continue;let i=t.remoteDirectories[a],u={...s,uuid:a,type:"remote",iconType:"favicon",iconSrc:null!=(o=null==i?void 0:i.iconUrl)?o:s.url,directoryMetadata:i,...t.remoteConnectionStates[a],tools:null!=(r=t.remoteTools[a])?r:[],prompts:null!=(n=t.remotePrompts[a])?n:[],resources:null!=(l=t.remoteResources[a])?l:[],version:void 0};(!e||K(u,e))&&c.push(u)}c.sort((e,t)=>e.name.localeCompare(t.name));let u=[];for(let[o,r]of Object.entries(t.localClients)){if(!r)continue;let n=t.dxts[o],l={name:o,uuid:r.uuid,type:"local",iconType:"external",iconSrc:m(o,n),isConnected:!0,isConnecting:!1,usedAuthentication:!1,tools:null!=(a=t.localTools[o])?a:[],prompts:null!=(s=t.localPrompts[o])?s:[],resources:null!=(i=t.localResources[o])?i:[],localId:null==n?void 0:n.id};(!e||K(l,e))&&u.push(l)}return u.sort((e,t)=>e.name.localeCompare(t.name)),[...c,...u]},[t,e])},H=()=>f(e=>e.remoteIsLoading||e.localIsLoading),Y=()=>{let e=f(e=>e.remoteClients),t=f(e=>e.remoteServers),o=f(e=>e.localClients),l=f(e=>e.dxts);return(0,n.useMemo)(()=>{let n=[],a=new Map;return Object.entries(e).forEach(e=>{let[o,l]=e;if(l instanceof r.K){var s;n.push(l);let e=t[o];a.set(l,{name:null!=(s=null==e?void 0:e.name)?s:o,iconType:"favicon",iconSrc:null==e?void 0:e.url})}}),Object.entries(o).forEach(e=>{let[t,o]=e;n.push(o.client);let r=l[t];a.set(o.client,{name:t,iconType:"external",iconSrc:m(t,r)})}),{clients:n,clientMetadata:a}},[e,t,o,l])},B=e=>{let t=O(e)||f.getState().remoteClients[e];if(!t)throw Error("Client not found for connector ".concat(e));if(t instanceof Promise)throw Error("Client for connector ".concat(e," is still connecting"));return t},F=e=>{let t=f.getState();for(let[n,l]of Object.entries(t.remoteServers)){var o,r;let a=null!=(r=null==(o=t.remoteTools[n])?void 0:o.find(t=>"".concat(l.name,":").concat(t.name)===e))?r:void 0;if(a)return{tool:a,server:{uuid:n,name:l.name,url:l.url,type:"remote",iconType:"favicon",iconSrc:l.url}}}for(let[o,r]of Object.entries(t.localTools)){let n=r.find(t=>"".concat(o,":").concat(t.name)===e),l=t.localClients[o],a=t.dxts[o],s=m(o,a);if(n&&l)return{tool:n,server:{uuid:l.uuid,name:o,type:"local",iconType:"external",iconSrc:s}}}},J=e=>Object.values(f.getState().remoteTools).flat().find(t=>t.name===e)||Object.values(f.getState().localTools).flat().find(t=>t.name===e),q=(e,t,o)=>{let r=f.getState(),n=[];for(let[l,a]of Object.entries(r.remoteTools)){let s=r.remoteServers[l];s&&a.filter(e=>(null==t?void 0:t[e.enabledKey])!==!1).forEach(t=>{var r;let a;o&&(a=o(s,t).approvalRequired),n.push({name:t.name,description:null!=(r=t.description)?r:t.name,input_schema:t.inputSchema,integration_name:s.name,mcp_server_uuid:s.uuid,mcp_server_url:s.url,needs_approval:a,backend_execution:!x(l,e)})})}for(let[e,o]of Object.entries(r.localTools))o.filter(e=>(null==t?void 0:t[e.enabledKey])!==!1).forEach(t=>{var o;n.push({name:t.name,description:null!=(o=t.description)?o:t.name,input_schema:t.inputSchema,integration_name:e})});return n}},0xf8bd7957:(e,t,o)=>{o.d(t,{z:()=>d});var r=o(0x22102fd88),n=o(0x1381f2bb),l=o(0x303b360c),a=o(0x1fec22234),s=o(0x116e76ca8),i=o(0xc288ff4d),c=o(0x2044f3b6f),u=o(0x1a1f6dda6);let d=e=>{let{size:t,imageSize:o,name:d="",className:m,fallbackToGlobe:f,type:p,src:h}=e,v=!o,g=null!=o?o:t,x=f?void 0:(0,r.jsx)(l.B,{letter:d,size:g,hideBorder:!v}),S=e=>(0,r.jsx)(n.O,{size:t,className:(0,u.A)(m,v&&"!border-0 !shadow-none !bg-transparent"),children:e});switch(p){case"favicon":return S((0,r.jsx)(a.d,{fadeInOnLoad:!0,url:h,size:g,fallbackSvg:x}));case"external":if("internal:claude-spark"===h)return S((0,r.jsx)(i.t,{className:"fill-accent-brand",width:g,height:g}));return S((0,r.jsx)(c.u,{style:{maxWidth:g,maxHeight:g},className:"object-contain",width:g,height:g,src:h||"",alt:"".concat(d," icon"),fallbackSvg:x,fadeInOnLoad:!0}));case"syncSource":return S((0,r.jsx)(s.A9,{type:h,size:g}));case"icon":return S((0,r.jsx)(c.o,{style:{maxWidth:g,maxHeight:g},className:"object-contain",width:g,height:g,src:h||"",alt:"".concat(d," icon"),fallbackSvg:x,fadeInOnLoad:!0}));default:return S(x)}}},0x1c9feff0c:(e,t,o)=>{o.d(t,{B:()=>a,C:()=>s});var r=o(0x22102fd88),n=o(0xf8bd7957);let l=e=>{let{icon:t,name:o,path:l,size:a=60,imageSize:i=.5*a,...c}=e,u=t?s(t,l):"";return(0,r.jsx)(n.z,{size:a,imageSize:i,type:"external",src:u,name:o,...c})},a=e=>{var t;let{extension:o,...n}=e;return(0,r.jsx)(l,{icon:o.manifest.icon,name:null!=(t=o.manifest.display_name)?t:o.manifest.name,path:o.path,...n})};function s(e,t){if(!e)return"";if(e.startsWith("data:"))return e;if(e.startsWith("https://"))return e.replace("https://","".concat("claude-image","://"));if(e.includes("://")||!t)return"";let o=t.replace(/\\/g,"/"),r=e.replace(/\\/g,"/"),n="".concat(o,"/").concat(r);return"file://".concat(n)}},0x21fe74567:(e,t,o)=>{o.d(t,{d:()=>r});let r=e=>{let{pathname:t,searchParams:o,queryString:r,shouldOpenInClaudeApp:n}=e,l="".concat(t,"?").concat(r),a=o.get("origin");if(a)l=a;else if(n){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,o=t.startsWith("/project/")&&e.test(t.slice(9)),n=t.startsWith("/chat/")&&e.test(t.slice(6)),a=t.startsWith("/code"),s=t.startsWith("/claude-code-desktop"),i=t.startsWith("/settings"),c=o||n||a||s||i||"/new"===t?t:"/new";l="claude://claude.ai".concat(c,"?").concat(r)}return l}}}]);