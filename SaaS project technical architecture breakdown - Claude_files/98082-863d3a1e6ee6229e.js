try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="a00c5bef-ce68-40bc-8555-d43bd122669f",e._sentryDebugIdIdentifier="sentry-dbid-a00c5bef-ce68-40bc-8555-d43bd122669f")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98082],{0x8b87af3b:(e,a,l)=>{l.d(a,{b:()=>t});let n=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],t=e=>n.includes(e.toUpperCase())||"GB"===e.toUpperCase()},0xa60407d2:(e,a,l)=>{l.d(a,{w:()=>t});var n=l(0xfc89b4a4);let t=(e,a,l,t)=>(0,n.useMemo)(()=>{{let e=getComputedStyle(document.body);return"hsl(".concat(e.getPropertyValue("--".concat(String(t))),")")}},[l,t,a,e])},0x1eef0d0b4:(e,a,l)=>{l.d(a,{n:()=>j});var n=l(0x22102fd88),t=l(0x24553dffe),r=l(0x1bdad8807),i=l(0x14023fbb8),o=l(0xa60407d2),s=l(0xdf5c3676),u=l(0x20e00cddd),d=l(0x1f0218c95),c=l(0x1a1f6dda6),p=l(0xfc89b4a4),b=l(0x1ab0d1ca1),m=l(0xf32c56dd),y=l(0x14de19ae8),h=l(0x865ff458),g=l(0x215f3d6df),f=l(0x225bae024),_=l(0x246846ae8),x=l(0xdc8aa2c8),v=l(0x5878331c),A=l.n(v);let T=[{key:"ad_nrt",label:"Andorran NRT number",countries:["AD"],placeholder:"A-123456-Z"},{key:"ar_cuit",label:"Argentinian tax ID number",countries:["AR"],placeholder:"12-3456789-01"},{key:"au_abn",label:"Australian Business Number (AU ABN)",countries:["AU"],placeholder:"12345678912"},{key:"au_arn",label:"Australian Taxation Office Reference Number",countries:["AU"],placeholder:"123456789123"},{key:"eu_vat",label:"European VAT number",countries:["AT"],placeholder:"ATU12345678"},{key:"eu_vat",label:"European VAT number",countries:["BE"],placeholder:"BE0123456789"},{key:"bo_tin",label:"Bolivian tax ID",countries:["BO"],placeholder:"123456789"},{key:"br_cnpj",label:"Brazilian CNPJ number",countries:["BR"],placeholder:"01.234.456/5432-10"},{key:"br_cpf",label:"Brazilian CPF number",countries:["BR"],placeholder:"123.456.789-87"},{key:"bg_uic",label:"Bulgaria Unified Identification Code",countries:["BG"],placeholder:"123456789"},{key:"eu_vat",label:"European VAT number",countries:["BG"],placeholder:"BG0123456789"},{key:"ca_bn",label:"Canadian BN",countries:["CA"],placeholder:"123456789"},{key:"ca_gst_hst",label:"Canadian GST/HST number",countries:["CA"],placeholder:"123456789RT0002"},{key:"ca_pst_bc",label:"Canadian PST number (BC)",countries:["CA"],placeholder:"PST-1234-5678"},{key:"ca_pst_mb",label:"Canadian PST number (MB)",countries:["CA"],placeholder:"123456-7"},{key:"ca_pst_sk",label:"Canadian PST number (SK)",countries:["CA"],placeholder:"1234567"},{key:"ca_qst",label:"Canadian QST number (Qu\xe9bec)",countries:["CA"],placeholder:"1234567890TQ1234"},{key:"cl_tin",label:"Chilean TIN",countries:["CL"],placeholder:"12.345.678-K"},{key:"cn_tin",label:"Chinese tax ID",countries:["CN"],placeholder:"123456789012345678"},{key:"co_nit",label:"Colombian NIT number",countries:["CO"],placeholder:"123.456.789-0"},{key:"cr_tin",label:"Costa Rican tax ID",countries:["CR"],placeholder:"1-234-567890"},{key:"eu_vat",label:"European VAT number",countries:["HR"],placeholder:"HR12345678912"},{key:"eu_vat",label:"European VAT number",countries:["CY"],placeholder:"CY12345678Z"},{key:"eu_vat",label:"European VAT number",countries:["CZ"],placeholder:"CZ1234567890"},{key:"eu_vat",label:"European VAT number",countries:["DK"],placeholder:"DK12345678"},{key:"do_rcn",label:"Dominican RCN number",countries:["DO"],placeholder:"123-4567890-1"},{key:"ec_ruc",label:"Ecuadorian RUC number",countries:["EC"],placeholder:"1234567890001"},{key:"eg_tin",label:"Egyptian TIN",countries:["EG"],placeholder:"123456789"},{key:"sv_nit",label:"El Salvadorian NIT number",countries:["SV"],placeholder:"1234-567890-123-4"},{key:"eu_vat",label:"European VAT number",countries:["EE"],placeholder:"EE123456789"},{key:"eu_oss_vat",label:"European One Stop Shop VAT number",countries:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"],placeholder:"EU123456789",last:!0},{key:"eu_vat",label:"European VAT number",countries:["FI"],placeholder:"FI12345678"},{key:"eu_vat",label:"European VAT number",countries:["FR"],placeholder:"FRAB123456789"},{key:"ge_vat",label:"Georgian VAT",countries:["GE"],placeholder:"123456789"},{key:"eu_vat",label:"European VAT number",countries:["DE"],placeholder:"DE123456789"},{key:"eu_vat",label:"European VAT number",countries:["GR"],placeholder:"EL123456789"},{key:"hk_br",label:"Hong Kong BR number",countries:["HK"],placeholder:"12345678"},{key:"eu_vat",label:"European VAT number",countries:["HU"],placeholder:"HU12345678"},{key:"hu_tin",label:"Hungary tax number (ad\xf3sz\xe1m)",countries:["HU"],placeholder:"12345678-1-23"},{key:"is_vat",label:"Icelandic VAT",countries:["IS"],placeholder:"123456"},{key:"in_gst",label:"Indian GST number",countries:["IN"],placeholder:"12ABCDE3456FGZH"},{key:"id_npwp",label:"Indonesian NPWP number",countries:["ID"],placeholder:"12.345.678.9-012.345"},{key:"eu_vat",label:"European VAT number",countries:["IE"],placeholder:"IE1234567AB"},{key:"il_vat",label:"Israel VAT",countries:["IL"],placeholder:"000012345"},{key:"eu_vat",label:"European VAT number",countries:["IT"],placeholder:"IT12345678912"},{key:"jp_cn",label:"Japanese Corporate Number",countries:["JP"],placeholder:"1234567891234"},{key:"jp_rn",label:"Japanese Registered Foreign Businesses’ Registration Number",countries:["JP"],placeholder:"12345"},{key:"jp_trn",label:"Japanese Tax Registration Number",countries:["JP"],placeholder:"T1234567891234"},{key:"ke_pin",label:"KRA PIN",countries:["KE"],placeholder:"P000111111A"},{key:"eu_vat",label:"European VAT number",countries:["LV"],placeholder:"LV12345678912"},{key:"li_uid",label:"Liechtensteinian UID number",countries:["LI"],placeholder:"CHE123456789"},{key:"eu_vat",label:"European VAT number",countries:["LT"],placeholder:"LT123456789123"},{key:"eu_vat",label:"European VAT number",countries:["LU"],placeholder:"LU12345678"},{key:"my_frp",label:"Malaysian FRP number",countries:["MY"],placeholder:"12345678"},{key:"my_itn",label:"Malaysian ITN",countries:["MY"],placeholder:"C 1234567890"},{key:"my_sst",label:"Malaysian SST number",countries:["MY"],placeholder:"A12-3456-78912345"},{key:"eu_vat",label:"European VAT number",countries:["MT"],placeholder:"MT12345678"},{key:"mx_rfc",label:"Mexican RFC number",countries:["MX"],placeholder:"ABC010203AB9"},{key:"eu_vat",label:"European VAT number",countries:["NL"],placeholder:"NL123456789B12"},{key:"nz_gst",label:"New Zealand GST number",countries:["NZ"],placeholder:"123456789"},{key:"no_vat",label:"Norwegian VAT number",countries:["NO"],placeholder:"123456789MVA"},{key:"no_voec",label:"Norwegian VAT on e-commerce number",countries:["NO"],placeholder:"1234567"},{key:"pe_ruc",label:"Peruvian RUC number",countries:["PE"],placeholder:"12345678901"},{key:"ph_tin",label:"Philippines Tax Identification Number",countries:["PH"],placeholder:"123456789012"},{key:"eu_vat",label:"European VAT number",countries:["PL"],placeholder:"PL1234567890"},{key:"eu_vat",label:"European VAT number",countries:["PT"],placeholder:"PT123456789"},{key:"eu_vat",label:"European VAT number",countries:["RO"],placeholder:"RO1234567891"},{key:"ro_tin",label:"Romanian tax ID number",countries:["RO"],placeholder:"1234567890123"},{key:"ru_inn",label:"Russian INN",countries:["RU"],placeholder:"1234567891"},{key:"ru_kpp",label:"Russian KPP",countries:["RU"],placeholder:"123456789"},{key:"sa_vat",label:"Saudi Arabia VAT",countries:["SA"],placeholder:"123456789012345"},{key:"rs_pib",label:"Serbian PIB number",countries:["RS"],placeholder:"123456789"},{key:"sg_gst",label:"Singaporean GST",countries:["SG"],placeholder:"M12345678X"},{key:"sg_uen",label:"Singaporean UEN",countries:["SG"],placeholder:"123456789F"},{key:"eu_vat",label:"European VAT number",countries:["SK"],placeholder:"SK1234567891"},{key:"eu_vat",label:"European VAT number",countries:["SI"],placeholder:"SI12345678"},{key:"si_tin",label:"Slovenia tax number (davčna številka)",countries:["SI"],placeholder:"12345678"},{key:"za_vat",label:"South African VAT number",countries:["ZA"],placeholder:"4123456789"},{key:"kr_brn",label:"Korean BRN",countries:["KR"],placeholder:"123-45-67890"},{key:"es_cif",label:"Spanish NIF number",countries:["ES"],placeholder:"A12345678"},{key:"eu_vat",label:"European VAT number",countries:["ES"],placeholder:"ESA1234567Z"},{key:"eu_vat",label:"European VAT number",countries:["SE"],placeholder:"SE123456789123"},{key:"ch_vat",label:"Switzerland VAT number",countries:["CH"],placeholder:"CHE-123.456.789 MWST"},{key:"tw_vat",label:"Taiwanese VAT",countries:["TW"],placeholder:"12345678"},{key:"th_vat",label:"Thai VAT",countries:["TH"],placeholder:"1234567891234"},{key:"tr_tin",label:"Turkish Tax Identification Number",countries:["TR"],placeholder:"0123456789"},{key:"ua_vat",label:"Ukrainian VAT",countries:["UA"],placeholder:"123456789"},{key:"ae_trn",label:"United Arab Emirates TRN",countries:["AE"],placeholder:"123456789012345"},{key:"eu_vat",label:"Northern Ireland VAT number",countries:["XI"],placeholder:"XI123456789"},{key:"gb_vat",label:"United Kingdom VAT number",countries:["GB"],placeholder:"GB123456789"},{key:"uy_ruc",label:"Uruguayan RUC number",countries:["UY"],placeholder:"123456789012"},{key:"ve_rif",label:"Venezuelan RIF number",countries:["VE"],placeholder:"A-12345678-9"},{key:"vn_tin",label:"Vietnamese tax ID number",countries:["VN"],placeholder:"1234567890"}],k=e=>{let{title:a,subtitle:l,countryCode:t,className:r,inputClassName:i,textClassName:o,taxIdType:s,onTaxIdTypeChange:u,taxId:d,onTaxIdChange:b,size:m,autoSelectFirst:y=!1,disabled:h}=e,g=(0,p.useMemo)(()=>{let e={};return T.forEach(a=>{a.countries.forEach(l=>{l in e?e[l].push(a):e[l]=[a]})}),e},[]),f=(0,p.useMemo)(()=>t&&A().sortBy(g[t],e=>e.last?2:1,e=>e.label)||[],[t,g]),v=(0,p.useMemo)(()=>Object.fromEntries(f.map(e=>[e.key,e])),[f]),k=(0,p.useMemo)(()=>s?v[s]:null,[v,s]),S=f.length>0;return(0,p.useEffect)(()=>{t&&0===f.length&&(u(void 0),b("")),(1===f.length||f.length>0&&y)&&u(f[0].key)},[f,t,b,u,y]),(0,n.jsx)("div",{hidden:!S,children:(0,n.jsxs)("div",{className:(0,c.A)(r,o,"flex flex-col"),children:[(0,n.jsx)("div",{className:(0,c.A)("text-text-100 text-sm",o),children:a}),l&&(0,n.jsx)("div",{className:"text-text-400 text-xs",children:l}),(0,n.jsxs)("div",{className:"mt-2 inline-flex w-full flex-wrap items-center gap-2",children:[1===f.length?(0,n.jsx)("label",{htmlFor:"tax-id-text",className:"text-sm",children:f[0].label}):(0,n.jsx)(x.g,{disabled:!S||h,options:f,placeholder:"Select tax ID type",selected:k,onSelect:e=>{u(e.key),b("")},className:(0,c.A)("min-w-[12rem]",i),textClassName:o,size:m,type:"primary"}),(0,n.jsx)(_.ks,{value:d,id:"tax-id-text",disabled:h,hidden:!k,placeholder:null==k?void 0:k.placeholder,onValueChange:e=>b(e||""),className:(0,c.A)("border-border-200 hover:border-border-100 w-48 border",i),type:"text",size:"md"===m?"default":m})]})]})})};var S=l(0x38e6572),E=l(0x23e1b1f63),I=l(0x4339cba),C=l(0x1ff5b1833),M=l(0xb323e954);function N(e){let{taxId:a,taxIdType:l,isChecked:t,onCheck:r}=e,i=(0,b.A)();return"au_abn"===l&&a.length>0?(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(M.S,{checked:t,onChange:r,label:i.formatMessage({id:"efQ78fRCLf",defaultMessage:"My business is registered for GST and the ABN number I have provided is valid."})})}):null}function P(e){let{onReady:a,onCancel:l,defaultCountry:t,defaultName:r,setAddress:i,setTaxParams:o,onBillingCountryChange:s,onBillingNameChange:u,action:_,children:x,returnPath:v,onPaymentMethodUpdated:A,legalAccepted:T,...I}=e,M=(0,b.A)(),P=(0,m.st)(),j=(0,d.useStripe)(),V=(0,d.useElements)(),{account:R}=(0,y.YL)(),{data:L}=(0,h.Hc)(),{supportedRegions:B}=(0,g.D)("claude-ai"),D=(0,p.useMemo)(()=>B.filter(e=>e.stripe_address_supported).map(e=>e.code),[B]),[U,z]=(0,p.useState)("claude-ai"===I.product?I.companyName:void 0),G=(0,p.useMemo)(()=>"claude-ai"===I.product?{...I,companyName:U}:I,[I,U]),[F,H]=(0,p.useState)(null),[K,Y]=(0,p.useState)(!1),[O,Z]=(0,p.useState)(!1),[W,J]=(0,p.useState)(null),[X,Q]=(0,p.useState)(""),[q,$]=(0,p.useState)(),[ee,ea]=(0,p.useState)(!1),el=(0,p.useMemo)(()=>""!==X&&q?{type:q,value:X}:void 0,[X,q]);(0,p.useEffect)(()=>{null==o||o(el)},[el,o]);let en=w(Y,G),{mutateAsync:et,error:er}=(0,E.uS)();(0,p.useEffect)(()=>{er&&H(er.message)},[er]);let ei=(e,a)=>{let l=new URL(e.toString());a&&(l.pathname+="/".concat(a));let n=new URLSearchParams(l.search);return n.set("action","subscribe"),n.set("redirect_status","succeeded"),"claude-ai"===G.product&&G.plan&&n.set("plan",G.plan),l.search=n.toString(),l},eo=async()=>{let e;if(K||!j||!V)return;let a=V.getElement("address");if(!a)return;Y(!0);let l=new URL(window.location.origin),n=v.split("?");l.pathname=n[0];let t=new URLSearchParams(n[1]||"");t.set("action",_),"claude-ai"===G.product&&G.plan&&t.set("plan",G.plan),l.search=t.toString();let r="claude-ai"===G.product?G.plan:"team";if("subscribe"===_){P.track({event_key:"claudeai.pricing.payment_form_submitted",plan_type:r,billing_interval:G.billingInterval,has_promo:!!L,promo_code:(null==L?void 0:L.proMonthlyPromoCode)||(null==L?void 0:L.proAnnualPromoCode),has_tax_id:!!X});let n=await V.submit();if(n.error)e=n.error;else{let n=(await a.getValue()).value.address,t={line1:n.line1,city:n.city,country:n.country,region:n.state,postalCode:n.postal_code,tax_id:el,billingInterval:G.billingInterval},r=await en(t),o=r.clientSecret;if("setupIntentId"in r&&r.setupIntentId&&!r.organization_id){var i;let a=await j.confirmSetup({elements:V,clientSecret:o,redirect:"if_required",confirmParams:{return_url:l.toString()}});if(a.error||(null==(i=a.setupIntent)?void 0:i.status)!=="succeeded")e=a.error;else{let n={...t,verified_setup_intent_id:a.setupIntent.id,company_name:U,plan:"claude-ai"===G.product?G.plan:void 0};try{let a=await en(n);if(a.clientSecret&&!a.isPendingSetupIntent){let n=ei(l,a.organization_id);e=(await j.confirmPayment({elements:V,clientSecret:a.clientSecret,confirmParams:{return_url:n.toString()}})).error}else{let e=ei(l,a.organization_id);window.location.href=e.toString()}}catch(e){H((e instanceof Error?e.message:void 0)||M.formatMessage({defaultMessage:"Failed to create subscription. Please try again.",id:"2cTonaP1h4"})),Y(!1);return}}}else{r.organization_id&&(l.pathname+="/".concat(r.organization_id));let a={elements:V,clientSecret:o,confirmParams:{return_url:l.toString()}};e=(r.isPendingSetupIntent?await j.confirmSetup(a):await j.confirmPayment(a)).error}}(null==e?void 0:e.message)&&"validation_error"!==e.type&&(H(e.message),P.track({event_key:"claudeai.pricing.payment_failed",error_type:e.type,error_code:e.code,error_message:e.message,action:"subscribe",plan_type:r,billing_interval:G.billingInterval})),Y(!1)}else{let{error:e}=await j.confirmSetup({elements:V,redirect:"if_required",confirmParams:{return_url:l.toString()}});if(e)e.message&&"validation_error"!==e.type&&H(e.message),e.type&&"validation_error"!==e.type&&P.track({event_key:"claudeai.pricing.payment_failed",error_type:e.type,error_code:e.code,error_message:e.message,action:"update_payment_method",plan_type:r,billing_interval:G.billingInterval});else try{await et({tax_id:el,remove_tax_id:!el,company_name:U}),A&&A()}catch(e){H((e instanceof Error?e.message:void 0)||M.formatMessage({defaultMessage:"Failed to update tax information. Please try again.",id:"o7RpaY2p01"}))}Y(!1)}};(0,p.useEffect)(()=>{let e=null==V?void 0:V.getElement("address");if(!e)return;let a=e=>{let a=e.value.address;J(a),null==i||i({line1:a.line1,city:a.city,country:a.country,region:a.state,postalCode:a.postal_code,billingInterval:G.billingInterval}),e.value.name&&(z(e.value.name),null==u||u(e.value.name))};return e.on("change",a),()=>{e.off("change",a)}},[V,i,G.billingInterval,u]);let es="subscribe"===_?(0,C.QS)(null==W?void 0:W.country):(0,n.jsx)(S.A,{defaultMessage:"Update",id:"BWpuKlRSA1"});return(0,n.jsxs)("form",{id:"payment-form",onSubmit:e=>{e.preventDefault(),K||eo()},className:(0,c.A)("subscribe"===_&&"p-5 bg-bg-100 border-0.5 border-border-400 rounded-md text-text-200"),children:[(0,n.jsx)("div",{className:"text-text-000 text-base font-medium mb-4",children:(0,n.jsx)(S.A,{defaultMessage:"Payment method",id:"BVTni9A2ca"})}),(0,n.jsx)(d.AddressElement,{options:{mode:"billing",allowedCountries:D,defaultValues:{name:null!=r?r:null==R?void 0:R.full_name,address:t?{country:t}:void 0}},onChange:e=>{let a=e.value.address.country;a!==(null==W?void 0:W.country)&&($(void 0),Q(""),null==s||s(a))}}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(d.PaymentElement,{id:"payment-element",options:{readOnly:K,layout:"tabs",terms:{card:"never"},defaultValues:{billingDetails:{email:null==R?void 0:R.email_address,name:null==R?void 0:R.full_name}}},onReady:()=>{Z(!0),a&&a()}})}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)(k,{title:M.formatMessage({id:"Da5iekR76B",defaultMessage:"Business tax ID (Optional)"}),subtitle:M.formatMessage({id:"KpCyzHnEGv",defaultMessage:"If you provide a tax ID, the “Full name” above should be your business’s name."}),countryCode:null==W?void 0:W.country,taxId:X,onTaxIdChange:e=>{Q(e),ea(!1)},taxIdType:q,onTaxIdTypeChange:e=>{$(e),ea(!1)},inputClassName:"text-md rounded-md flex-grow",textClassName:"font-system text-md",size:"lg"}),(0,n.jsx)(N,{taxId:X,taxIdType:q,isChecked:ee,onCheck:ea})]}),F&&(0,n.jsx)("div",{className:"text-danger-000 mt-4",id:"payment-message",children:F}),(0,n.jsxs)("div",{className:"mt-5 flex flex-row flex-wrap items-center justify-end gap-3",children:[x,l&&(0,n.jsx)(f.$,{variant:"secondary",size:"default",onClick:l,children:(0,n.jsx)(S.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,n.jsx)(f.$,{type:"submit",loading:K,variant:"primary",className:"subscribe"===_?"py-3 w-full":"",size:"subscribe"===_?"lg":"default",disabled:K||!O||"au_abn"===q&&X.length>0&&!ee||"subscribe"===_&&!1===T,children:es})]})]})}let w=(e,a)=>{var l,n;let{mutateAsync:t}=(0,E.Xt)(),{mutateAsync:r}=(0,E.PQ)(),{mutateAsync:i}=(0,E.Nb)(),o="claude-ai"===a.product&&(null==(l=a.trialInfo)?void 0:l.available)===!0&&(null==(n=a.trialInfo)?void 0:n.requires_payment_upfront)===!0,{mutateAsync:s}=(0,E.cR)(),{data:u}=(0,E.jN)(),{data:d}=(0,h.Hc)(),c=(null==u?void 0:u.status)==="trialing"&&!(null==u?void 0:u.payment_method);return(0,p.useCallback)(l=>{if("raven"===a.product)return t({...l,organization_name:a.organizationName,members:a.members.filter(e=>e.includes("@")),billingInterval:a.billingInterval},{onError:()=>{e(!1)}});if(c&&!a.plan)return s({billing_interval:a.billingInterval},{onError:()=>{e(!1)}}).then(e=>({clientSecret:e.clientSecret||"",isPendingSetupIntent:!0,organization_id:void 0}));let n=a.promoCode;!n&&(a.billingInterval===I.NW.MONTHLY?a.plan&&a.plan===I.un.FIVE_X&&(null==d?void 0:d.max5xMonthlyPromoCode)?n=null==d?void 0:d.max5xMonthlyPromoCode:a.plan===I.un.TWENTY_X&&(null==d?void 0:d.max20xMonthlyPromoCode)?n=null==d?void 0:d.max20xMonthlyPromoCode:(null==d?void 0:d.proMonthlyPromoCode)&&(n=d.proMonthlyPromoCode):a.billingInterval===I.NW.YEARLY&&(null==d?void 0:d.proAnnualPromoCode)&&(n=d.proAnnualPromoCode));let u="verified_setup_intent_id"in l&&l.verified_setup_intent_id;return o&&!u?i({...l,company_name:a.companyName,billingInterval:a.billingInterval,promoCode:n,plan:a.plan||"pro"}).catch(()=>{throw e(!1),Error("Failed to create payment verification")}):r({...l,company_name:a.companyName,billingInterval:a.billingInterval,promoCode:n,plan:a.plan},{onError:()=>{e(!1)}})},[a,t,r,i,s,e,d,c,o])};function j(e){let a,{defaultCountry:l,isLoading:i=!1,amount:m,currency:y,setAddress:h,setTaxParams:g,action:f,children:_,className:x,returnPath:v,onCancel:A,onPaymentMethodUpdated:T,legalAccepted:k,...S}=e,E=(0,b.A)(),[I,C]=(0,p.useState)(!0),{theme:M,mode:N}=(0,s.D)(),w=(0,t.l)(),[j,R]=(0,p.useState)(l),[L,B]=(0,p.useState)(),D=(0,r.Ak)(j),U=(0,r.Ri)("update"===f,j,D),z="subscribe"===f?D:(null==U?void 0:U.entity)||D,G=(0,r.ib)(z);(0,p.useEffect)(()=>{C(!0)},[z]);let F=w.get(u.eT.COLOR_MODE),H={loader:"never",appearance:{theme:"stripe",variables:{fontSizeBase:"16px",colorBackground:(0,o.w)(M,N,F,"bg-000"),colorText:(0,o.w)(M,N,F,"text-100")}},locale:(0,r.bN)(E.locale)},K=!0;return"subscribe"===f?a={mode:"subscription",amount:m,currency:null==y?void 0:y.toLowerCase(),payment_method_types:["card","link"],...H}:(K=!!U,a={clientSecret:null==U?void 0:U.clientSecret,...H}),(0,n.jsxs)("div",{className:(0,c.A)("relative",x),style:{minHeight:"460px"},children:[K&&!i&&(0,n.jsx)("div",{className:(0,c.A)("w-full pt-1 transition-opacity duration-1000",{"opacity-0":I||i}),children:(0,n.jsx)(d.Elements,{options:a,stripe:G,children:(0,n.jsx)(P,{onReady:()=>C(!1),defaultCountry:j,defaultName:L,setAddress:h,setTaxParams:g,onBillingCountryChange:R,onBillingNameChange:B,action:f,returnPath:v,onCancel:A,onPaymentMethodUpdated:T,legalAccepted:k,...S,children:_})},z)}),(I||i)&&(0,n.jsx)(V,{})]})}let V=()=>(0,n.jsx)("div",{className:"absolute inset-0 flex h-full w-full items-center justify-center",children:(0,n.jsx)(i.R,{})})},0x1ff5b1833:(e,a,l)=>{l.d(a,{CB:()=>d,He:()=>c,Hm:()=>p,QS:()=>b,u6:()=>s,uA:()=>u});var n=l(0x22102fd88),t=l(0x38e6572),r=l(0x4339cba),i=l(0x8b87af3b),o=l(0x1f57763bb);let s=(e,a)=>"raven"===e?a?(0,n.jsx)(t.A,{defaultMessage:"Subscribed to Enterprise plan",id:"mG2LirIcbi"}):(0,n.jsx)(t.A,{defaultMessage:"Subscribed to Team plan",id:"kVZjU0+6gW"}):"claude_max"===e?(0,n.jsx)(t.A,{defaultMessage:"Subscribed to Max",id:"Q2VUhBlhYA"}):"claude_pro"===e?(0,n.jsx)(t.A,{defaultMessage:"Subscribed to Pro",id:"dE1OUYZoXX"}):void 0,u=(e,a,l)=>"raven"===e?l:"claude_max"===e?a?(0,n.jsx)(t.A,{defaultMessage:"Thanks for subscribing to Max, {name}",id:"hsYvnBc6s2",values:{name:a}}):(0,n.jsx)(t.A,{defaultMessage:"Thanks for subscribing to Max",id:"iVdR3nJo+0"}):"claude_pro"===e?a?(0,n.jsx)(t.A,{defaultMessage:"Thanks for being a Pro, {name}",id:"zJWRxxb0KK",values:{name:a}}):(0,n.jsx)(t.A,{defaultMessage:"Thanks for being a Pro",id:"fPG6HsZUWT"}):void 0,d=e=>{switch(e){case"free":return(0,n.jsx)(o.QD,{size:"small"});case"claude_pro":return(0,n.jsx)(o.sA,{size:"small"});case"claude_max":return(0,n.jsx)(o.zD,{size:"small"})}},c=(e,a)=>{switch(e){case"raven":return a?(0,n.jsx)(t.A,{defaultMessage:"Enterprise plan",id:"0g7deXDj3b"}):(0,n.jsx)(t.A,{defaultMessage:"Team plan",id:"idguOo+PzU"});case"free":return(0,n.jsx)(t.A,{defaultMessage:"Free plan",id:"B+7815cfpz"});case"claude_pro":return(0,n.jsx)(t.A,{defaultMessage:"Pro plan",id:"P0xe8AvKVP"});case"claude_max":return(0,n.jsx)(t.A,{defaultMessage:"Max plan",id:"yC6ECfKPIQ"})}},p=(e,a,l)=>"free"===e?(0,n.jsx)(t.A,{defaultMessage:"Try Claude",id:"pZ4CtGSlwT"}):"claude_pro"===e&&a===r.NW.YEARLY?(0,n.jsx)(t.A,{defaultMessage:"Annual",id:"2C6TrW95uE"}):"claude_pro"===e&&a===r.NW.MONTHLY?(0,n.jsx)(t.A,{defaultMessage:"Monthly",id:"wYsv4ZHu+B"}):"claude_max"===e&&l===r.un.FIVE_X?(0,n.jsx)(t.A,{defaultMessage:"5x more usage than Pro",id:"Mqu1u9b9B1"}):"claude_max"===e&&l===r.un.TWENTY_X?(0,n.jsx)(t.A,{defaultMessage:"20x more usage than Pro",id:"YIkI1PRwfs"}):void 0,b=e=>e&&(0,i.b)(e)?(0,n.jsx)(t.A,{defaultMessage:"Subscribe and Pay",id:"Zt/6SnhrDf"}):(0,n.jsx)(t.A,{defaultMessage:"Subscribe",id:"gczcC5Leue"})},0x215f3d6df:(e,a,l)=>{l.d(a,{D:()=>s});var n=l(0xac309a83),t=l(0xfc89b4a4),r=l(0x156c4e43b);let i={},o=r.g1(r.Ik({name:r.Yj(),console_supported:r.zM(),phone_verification_supported:r.zM(),stripe_address_supported:r.zM(),claudeai_supported:r.zM()})),s=e=>{let{regions:a}=(()=>{let e=(0,n.iW)("supported_regions",i,o);return(0,t.useMemo)(()=>({regions:Object.entries(e).map(e=>{let[a,l]=e;return{code:a,...l}})}),[e])})();return(0,t.useMemo)(()=>({supportedRegions:a.filter(a=>"claude-ai"===e?a.claudeai_supported:"console"===e?a.console_supported:void 0)}),[a,e])}},0x23ed6222b:(e,a,l)=>{l.d(a,{So:()=>o,vv:()=>n,wh:()=>r,xs:()=>t});let n=function(e,a){let{preferWholeNumber:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=Math.round(e);let n={minimumFractionDigits:2,maximumFractionDigits:2};l&&e/100%1==0&&(n.minimumFractionDigits=0,n.maximumFractionDigits=0);let t=navigator.languages&&navigator.languages.length?navigator.languages:navigator.language?navigator.language:"en-US",r="string"==typeof t?t:t[0];return(["SGD","AUD","NZD"].includes(a)||"USD"===a&&"en-US"!==r)&&(n.currencyDisplay="code"),new Intl.NumberFormat(t||void 0,{style:"currency",currency:a,...n}).format(e/100)};function t(e){let{amount:a,currency:l,preferWholeNumber:t}=e;return n(a,l,{preferWholeNumber:t})}let r={GST:"GST",VAT:"VAT",JCT:"JCT"},i={aud:{showIncluded:!0,taxLabel:r.GST},brl:{showIncluded:!1,taxLabel:null},cad:{showIncluded:!1,taxLabel:null},eur:{showIncluded:!1,taxLabel:r.VAT},gbp:{showIncluded:!0,taxLabel:r.VAT},nzd:{showIncluded:!0,taxLabel:r.VAT},sgd:{showIncluded:!0,taxLabel:r.GST},usd:{showIncluded:!1,taxLabel:null}};function o(e,a){var l;return"usd"===e.toLowerCase()&&"jp"===a.toLowerCase()?{showIncluded:!1,taxLabel:r.JCT}:null!=(l=i[e.toLowerCase()])?l:i.usd}}}]);